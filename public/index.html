<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Media Streamer</title>
  <link type="text/css" rel="stylesheet" href="/dark-hive/jquery-ui-1.8.1.custom.css"/>
  <link type="text/css" rel="stylesheet" href="style.css"/>
  <script type="text/javascript" src="/js/lib/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="/js/lib/jquery-ui-1.8.1.custom.min.js"></script>
  <script type="text/javascript" src="/js/lib/jquery.address-1.2rc.min.js"></script>
  <script type="text/javascript" src="/js/lib/jquery.jplayer.min.js"></script>
  <script type="text/javascript" src="/js/main.js"></script>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
</head>
<body>

<script type="text/html" id="tmpl_mediatable">
  <table>
    <thead>
      <tr>
        <% for (var i=0; columns[i]; i++) { %>
          <th><%=headers[i] %></th>
        <% } %>
      </tr>
    </thead>
    <tbody>
      <tr><td>..</td><td><%= mm.utils.generateLink('folder', '#'+ parent, 'Parent Directory' ) %></td></tr>
      <% for (var i=0; data[i]; i++) { var f = data[i]; %>
        <tr rel="<%= i %>">
          <% for (var j=0; columns[j]; j++) { %>
            <% if (columns[j] == 'file' || columns[j] == 'id3_title') { %>
              <%
                f.path = (f.path === '.') ? '' : f.path;
                var link = (f.folder) ? mm.utils.generateLink('folder', '#'+ f.path +'/'+ f.file, f.file) : mm.utils.generateLink('media', '/get/'+ f.id, f[columns[j]]);
              %>
              <td><%= link %></td>
            <%} else { %>
              <td><%=f[columns[j]]%></td>
            <% } %>
          <% } %>
        </tr>
      <% } %>
    </tbody>
  </table>
</script>

<div id="jquery_jplayer"></div>
<div id="nowplaying">&nbsp;</div>
<div id="controls">
  <div id="art"><img src="" width="75" height="75"/></div>
  <div id="playback">
    <button id="play">Play</button>
    <button id="pause">Pause</button>
    <button id="stop">Stop</button>
    <div id="bars_holder">
      <div id="sliderPlayback"></div>
      <div id="loaderBar"></div>
    </div>
    <button id="prev">Prev</button>
    <button id="next">Next</button>
  </div>
  <div id="volume">
    <div id="sliderVolume"></div>
    <button id="mute">Mute</button>
  </div>
</div>
<div id="playlist">
  <span>Current Playlist:</span>
  <div class="list"></div>
</div>
<div id="listing">
</div>